### Методика тестирования производительности PostgreSQL 17 на локальном и iSCSI-хранилище
#### Версия: 1.1
#### Дата: 22 октября 2025 г.
#### Цель: Сравнить производительность дисковой подсистемы и СУБД PostgreSQL 17 при размещении ВМ на локальном RAID10 (Dell R750) и на внешнем iSCSI-СХД, подключённом по 25/100GbE в среде VMware vSphere 8.

#### 1. Общие положения
Тестирование проводится на одном хосте ESXi в кластере Т4 ДЦ ВКС.

Сравниваются два типа хранилищ:
+ Локальный: VMFS на RAID10, собранный из 8 локальных дисков на хосте Dell R750.
+ Сетевой: VMFS на выделенном LUN iSCSI-СХД (без фоновой нагрузки).

Все ВМ идентичны и работают под управлением Debian 12.

Тесты включают:
+ Низкоуровневую нагрузку (fio, 60 сек на тест)
+ Прикладную нагрузку (pgbench)

Используем следующие сценарии:
+ 1 ВМ
+ 4 ВМ одновременно на одном хосте

Смешанная нагрузка (mixed RW): 60% запись / 40% чтение.

#### 2. Конфигурация виртуальных машин
| Параметр  | Значение |
|-----------|--------------|
| ОС		| Debian 12 (bookworm) |
| vCPU		| 4	ядра		|
| RAM		| 16 ГБ		|
| Системный диск | 30 ГБ, Thick Eager Zeroed |
| Диск данных PostgreSQL | 50 ГБ, отдельный VMDK, Thick Eager Zeroed, контроллер PVSCSI |
| Файловая система системного диска | btrfs |
| Файловая система данных | XFS (noatime, logbufs=8, logbsize=256k) |
| Swap | Отключён |
| Сетевой адаптер | VMXNET3 |

